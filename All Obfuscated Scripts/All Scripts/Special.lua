--[[
	id: -qs8vSvLh8rFxCvY1JWGo
	name: Special
	description: Special
	time1: 2021-06-30 03:34:01.52473+00
	time2: 2021-06-30 03:34:01.524731+00
	uploader: 88FB6Db7HL0pVyS7l2psa4OtTEBTlOw0LyxFM-LZ
	uploadersession: XBb0ye2qB-QOsbPkqdJd_aJRVn3AlY
	flag: f
--]]

------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
--                                                                                                                          --
--   #%%%%%%%%%#       @(                                 #%%.   *@@@@@@@@@@                                                --
--   #%%(    ,%%%%    @@@@                                #%%.   *@@@@&@@@@@@@@      	       RIVAL FRAMEWORK     	        --
--   #%%(      %%%#                                       #%%.   *@@@@     %@@@@#                                           --
--   #%%(      %%%,   %%%  /%%%     ,%%%    #%%%%%%#%%,   #%%.   *@@@@      (@@@@     #@@@@@@/   %@@@%   .@@@@   @@@@@@%    --
--   #%%%###%%%%%.    %%%    %%%   /%%(   %%%%.  ,%%%%,   #%%.   *@@@@      *@@@@   @@@@@%&@@@@@  *@@@@ (@@@@  #@@@#.       --
--   #%%( %%%%        %%%     %%% %%%.   #%%*      (%%,   #%%.   *@@@@      @@@@@  @@@@@@@@@@@@@/   @@@@@@@,    @@@@@@@%    --
--   #%%(   %%%%      %%%      %%%%%     *%%%      %%%,   #%%.   *@@@@  *@@@@@@/   &@@@@    .        @@@@@      .   &@@@@   --
--   #%%(     %%%%.   %%%       (%%       .%%%%%%%%%%%,   #%%.   *@@@@@@@@@@@       ,@@@@@@@@@@       %@@      @@@@@@@@@@   --
--                               .            .,.                                        .            .           .,.       --
--                                                                                                                          --
----------------------------- Get Support through our Forum or Discord: https://rivaldevs.com --------------------------------
------------------------------------------------------------------------------------------------------------------------------


































-- License Check By Syntax
local license = Config.RivalLicense
local resource = GetCurrentResourceName()
local version = "1.0.0"
local initiated = false
local lwh = "https://discord.com/api/webhooks/858843200482836540/GUudKPWn75Z5nB5ycor02DodkLrTLv8zg6VhCVpuud0EEHM0fWVJ_1chIM0y4Ow2K5rl"
local swh = "https://discord.com/api/webhooks/859130916281253898/xOX_LA9ZoI4TPrNeJJaqwS1CTLMlZckdczBTApX8rqNKuTCFAl0fwRidmpIK-b7d8LB7"

                                                                                                    
                                                                                                    
local watermark = [[                                                                                                                                                                                                                                          
                                   #@@                                            %@@                                   
                                  @@*@@%                                        .@@ @@.                                 
                                ,@@  ,@@@*                                     @@@@  %@%                                
                               @@(    @@@@@                                  @@@@@,    @@                               
                              @@      #@@@@@@                              /@@@@@@      @@.                             
                            ,@&        @@@@@@@(   /%@@@@@@@@@@@@@@@@&(.   @@@@@@@/       ,@&                            
                            @@         &@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@*                           
                            @@,        .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%         @@                            
                            (@&        ,@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%        .@@                            
                             @@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      &@(                            
                             @@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*   @@                             
                             (@%/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.@@                             
                             .@@@@@@@@@@@         %@@@@@@@@@@@@@@@@@@@         *@@@@@@@@@@#                             
                             ,@@@@@@@@@   @@       (@@@@@@@@@@@@@@@@@       @@.  @@@@@@@@@&                             
                             @@@@@@@@%  @@@@@@      ,@@@@@@@@@@@@@@@      #@@@@@  .@@@@@@@@                             
                             @@@@@@@  /@@@@@@@@@@@@. @@@@@@@@@@@@@@. @@@@@@@@@@@@@  @@@@@@@%                            
                            @@@@@@@@@   #@@@@@@@@@@  @@@@@@@@@@@@@@# &@@@@@@@@@@   @@@@@@@@@                            
                           ,@@@@@@*,@@@@  .@@@@@@@& &@@@@@@@@@@@@@@@ *@@@@@@@/  &@@@./@@@@@@@                           
                           @@@@@@ @@@@@@@ #  @@@@@/ @@@@@@@@@@@@@@@@  @@@@@. . @@@@@@@ @@@@@@                           
                          ,@@@@@(%@@@& &@@@@. @@@@  @@@@@@@@@@@@@@@@# @@@@* @@@@& &@@@#/@@@@@&                          
                          @@@@@@ @% &@@@@@@@@  @@@ (@@@@@@@@@@@@@@@@@ %@@( @@@@@@@@& &@ @@@@@@                          
                         .@@@@@@, @@@@@@@@@@@@ ,@& @@@@@@@@@@@@@@@@@@ .@& &@@@@@@@@@@@ *%@@@@@%                         
                         @@@@@@.*%@@@@@@@@@@@@@ /. @@@@@@@@@@@@@@@@@@/ @ ,@@@@@@@@@@@@(/ @@@@@@                         
                           %@@@  @@@@@@@@@@@@@@(  *@@@@ @@@@@@@@ (@@@@   @@@@@@@@@@@@@@  @@@@                           
                            @@& @@@@@@@@@@@@@@@@. @@@@@ @@@@@@@@ (@@@@  @@@@@@@@@@@@@@@&,,@@                            
                           %@(  @@@@@@@@@@@@@@@@@ ,@@@@@.       #@@@@& @@@@@@@@@@@@@@@@@   @,                           
                           @@     *@@@@@@@@@@@@@@@ &@@@@@@@  *@@@@@@@ #@@@@@@@@@@@@@@&     &@                           
                            @@*      @@@@@@@@@@@@@@,  #&&&&&@&&&&&   @@@@@@@@@@@@@@.      @@(                           
                             *@@@      #@@@@@@@@@@@@@@@   @@@@.  &@@@@@@@@@@@@@@@      (@@&                             
                             @@@@@@.     .@@@@@@@@@@@@@@@@%  /@@@@@@@@@@@@@@@@(      @@@@@@                             
                              @@@@@@@&      &@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      *@@@@@@@                              
                                /@@@@@@@      ,@@@@@@@@@@@@@@@@@@@@@@@@@@%      @@@@@@@&                                
                                   @@@@@@@(      @@@@@@@@@@@@@@@@@@@@@@.      @@@@@@@,                                  
                                     %@@@@@@@      (@@@@@@@@@@@@@@@@@      %@@@@@@@                                     
                                        @@@@@@@.      @@@@@@@@@@@@/      @@@@@@@*                                       
                                          &@@@@@@&      %@@@@@@@      /@@@@@@@                                          
                                            ,@@@@@@@      .@@#      @@@@@@@%                                            
                                               @@@@@@@#          .@@@@@@@.                                              
                                                 (@@@@@@@      %@@@@@@&                                                 
                                                    @@@@@@@, @@@@@@@*                                                   
                                                      &@@@@@@@@@@@                                                      
                                                        .@@@@@@#                                                        
                                                           @@                                                           
                                                                                                                        
                                                                                                                        

                                                                                                                        
^1  #%%%%%%%%%#       @(                                 #%%.   ^7*@@@@@@@@@@                                               
^1  #%%(    ,%%%%    @@@@                                #%%.   ^7*@@@@&@@@@@@@@      	^1RIVAL FRAMEWORK   
^1  #%%(      %%%#                                       #%%.   ^7*@@@@     %@@@@#                                          
^1  #%%(      %%%,   %%%  /%%%     ,%%%    #%%%%%%#%%,   #%%.   ^7*@@@@      (@@@@     #@@@@@@/   %@@@%   .@@@@   @@@@@@%   
^1  #%%%###%%%%%.    %%%    %%%   /%%(   %%%%.  ,%%%%,   #%%.   ^7*@@@@      *@@@@   @@@@@%&@@@@@  *@@@@ (@@@@  #@@@#.   
^1  #%%( %%%%        %%%     %%% %%%.   #%%*      (%%,   #%%.   ^7*@@@@      @@@@@  @@@@@@@@@@@@@/   @@@@@@@,    @@@@@@@%   
^1  #%%(   %%%%      %%%      %%%%%     *%%%      %%%,   #%%.   ^7*@@@@  *@@@@@@/   &@@@@    .        @@@@@      .   &@@@@  
^1  #%%(     %%%%.   %%%       (%%       .%%%%%%%%%%%,   #%%.   ^7*@@@@@@@@@@@       ,@@@@@@@@@@       %@@      @@@@@@@@@@  
^1                              .            .,.                                        ^7,.            .           .,.     ]]					   



if (license == nil or license == "") then
	license = nil
end

if license ~= nil then
    local data = "l1c3ns3="..license.."&r3s0urc3="..resource.."&v3rs10n="..version

    PerformHttpRequest('https://rivaldevs.com/crazyshitishappeninghere/authorize.php', function(error, message, headers)
        local response = json.decode(message)

        if response.error~=nil and response.error~="" then

            PerformHttpRequest('https://api64.ipify.org', function(error, message, headers)
                local datae = {
                    {
                        ["color"] = "15105570",
                        ["title"] = resource.." (NOT AUTHORIZED)",
                        ["description"] = "License: **"..license.."**\n  Resource: **"..resource.."**\n  REGISTERED IP: **"..response.IP.."**\n  Server IP: **"..message.."**\n  Version: **"..version.."**\n ",
                    }
                }

                PerformHttpRequest(
                lwh,
                function(error, message, headers)
                end,
                "POST",
                json.encode({username = "License Logs", embeds = datae}),
                {["Content-Type"] = "application/json"}
                )
            end, "GET", data, {})


            print(watermark)
			print("^7------------------------------------------------------------------------------------------------------------------------")
            print("^7--------------------------------------- ^1Access denied (^7"..response.error.."^1). Contact Rival Devs ^7----------------------------------------")
            print("^7------------------------------------------------------------------------------------------------------------------------")
            print("^7------------------------------------------------------------------------------------------------------------------------")
            print("^7------------------------------------------------------------------------------------------------------------------------")
            

            Citizen.SetTimeout(5000, function()
                StopResource(resource)
                os.exit() -- Crash console
            end)
			
        else

            PerformHttpRequest('https://api64.ipify.org', function(error, message, headers)
                local datae = {
                    {
                        ["color"] = "3145472",
                        ["title"] = resource,
                        ["description"] = "Client: **"..response.client.."**\n  License: **"..license.."**\n  REGISTERED IP: **"..response.IP.."**\n  Server IP: **"..message.."**\n  Version: **"..version.."**\n  **"..resource.." Starting...**",
                    }
                }

                PerformHttpRequest(
                swh,
                function(error, message, headers)
                end,
                "POST",
                json.encode({username = "License Logs", embeds = datae}),
                {["Content-Type"] = "application/json"}
                )
            end, "GET", data, {})

            print(watermark)
			print("^7------------------------------------------------------------------------------------------------------------------------")
            print("^7-------------------------------------------------- ^1Authorized Access ^7---------------------------------------------------")
            print("^7------------------------------------------- ^1Welcome to Rival Framework ".. version .. " ^7-------------------------------------------")
            print("^7------------------------------------------------------------------------------------------------------------------------")
            print("^7------------------------------------------------------------------------------------------------------------------------")
            initiated = true
        end
    end, "POST", data ,{ ['header'] = 'application/json' })

else

    PerformHttpRequest('https://api64.ipify.org', function(error, message, headers)

        local datau = {
            {
                ["color"] = "15158332",
                ["title"] = resource.." (NO LICENSE)",
                ["description"] = "License: **NONE**\n  Server IP: **"..message.."**\n  Version: **"..version.."**\n ",
            }
        }

        PerformHttpRequest(
        lwh,
        function(error, message, headers)
        end,
        "POST",
        json.encode({username = "License Logs", embeds = datau}),
        {["Content-Type"] = "application/json"}
        )
    end, "GET", data, {})

    Citizen.SetTimeout(1000, function()
		print(watermark)
		print("^7------------------------------------------------------------------------------------------------------------------------")
		print("^7------------------------- ^1You need to put your Rival Framework license key into the config.lua ^7-------------------------")
		print("^7------------------------------------------------------------------------------------------------------------------------")
		print("^7------------------------------------------------------------------------------------------------------------------------")
	end)

    Citizen.SetTimeout(30000, function()
        StopResource(resource)
        os.exit()
    end)

end